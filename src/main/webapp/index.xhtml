<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	template="/resources/templates/base.xhtml">

	<ui:define name="titulo">Aplicação</ui:define>
	<ui:define name="conteudo">

		<h:form>
			<p:growl id="messages" showDetail="true" />

			<p:schedule value="#{homeBean.eventModel}" widgetVar="myschedule"
				timeZone="GMT+2" locale="pt">
				<p:ajax event="dateSelect" listener="#{homeBean.onDateSelect}"
					update="eventDetails" oncomplete="PF('eventDialog').show();" />
				<p:ajax event="eventSelect" listener="#{homeBean.onEventSelect}"
					update="eventDetails" oncomplete="PF('eventDialog').show();" />
				<p:ajax event="eventMove" listener="#{homeBean.onEventMove}"
					update="messages" />
				<p:ajax event="eventResize" listener="#{homeBean.onEventResize}"
					update="messages" />

			</p:schedule>

			<p:dialog widgetVar="eventDialog" header="Event Details"
				showEffect="clip" hideEffect="clip">
				<h:panelGrid id="eventDetails" columns="2">

					<p:outputLabel value="Carro" for="carro" />
					<p:selectOneMenu id="carro" value="#{homeBean.carro}"
						required="true" requiredMessage="Selecione um Carro"
						dynamic="true">
						<f:selectItem itemLabel="Selecione um Carro" itemValue="" />
						<f:selectItems value="#{homeBean.carros}" var="carro"
							itemLabel="#{carro.modelo.descricao}" itemValue="#{modelo}" />
					</p:selectOneMenu>

					<p:outputLabel for="from" value="Inicio:" />
					<p:calendar id="from" value="#{homeBean.event.startDate}"
						 pattern="dd/MM/yyyy" mindate="new Date()" />

					<p:outputLabel for="to" value="Final:" />
					<p:calendar id="to" value="#{homeBean.event.endDate}"
						pattern="dd/MM/yyyy" mindate="#{homeBean.aluguel.dataEntrega}" />

					<p:outputLabel for="allDay" value="Entregue:" />
					<h:selectBooleanCheckbox id="allDay"
						value="#{homeBean.event.allDay}" />

					<p:commandButton type="reset" value="Reset" />
					<p:commandButton id="addButton" value="Save"
						action="#{homeBean.addEvent}"
						oncomplete="PF('myschedule').update();PF('eventDialog').hide();" />
				</h:panelGrid>
			</p:dialog>

		</h:form>
	</ui:define>

</ui:composition>